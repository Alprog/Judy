diff a/3rd-party/glslang/Source/SPIRV/GlslangToSpv.cpp b/3rd-party/glslang/Source/SPIRV/GlslangToSpv.cpp	(rejected hunks)
@@ -779,9 +779,10 @@
     for (auto& point : glslangIntermediate->entryPoints)
     {
         spv::ExecutionModel executionModel = TranslateExecutionModel(point.stage);
-        shaderEntry = builder.makeEntryPoint(point.name.c_str());
-        entryPoint = builder.addEntryPoint(executionModel, shaderEntry, point.name.c_str());
-    }
+        auto shaderEntry = builder.makeEntryPoint(point.name.c_str());
+        shaderEntries[point.mangledName] = shaderEntry;
+        entryPointA = builder.addEntryPoint(executionModel, shaderEntry, point.name.c_str());
+
 
     // Add the source extensions
     const auto& sourceExtensions = glslangIntermediate->getRequestedExtensions();
